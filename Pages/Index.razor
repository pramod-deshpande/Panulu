@page "/"

<Heading Title="Tasks"></Heading>

@if (taskItems.Any()) {
    @foreach (var item in taskItems) {
        <DataCard project="@item.Title"></DataCard>
    }
}







@code{
    List<TaskItem> taskItems = new();


    protected override async Task OnInitializedAsync() {
       taskItems = GetTasksForToday(await db.GetItemsAsync());
    }

    private List<TaskItem> GetTasksForToday(List<TaskItem> items) {

        var today = DateTime.Now.Date;
        return items.Where(x => x.TaskDateTime.Value.Date == today).ToList() ?? new List<TaskItem>();
    }

}
